/*!
 * FullCalendar v2.3.1 Google Calendar Plugin
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function o(o,n,l,d,c){function i(a,r){var n=r||[{message:a}],t=window.console,l=t?t.warn||t.log:null;(o.googleCalendarError||e.noop).apply(c,n),(c.options.googleCalendarError||e.noop).apply(c,n),l&&l.apply(t,[a].concat(r||[]))}var s,u,g=r+"/"+encodeURIComponent(o.googleCalendarId)+"/events?callback=?",p=o.googleCalendarApiKey||c.options.googleCalendarApiKey,m=o.success;return p?(n.hasZone()||(n=n.clone().utc().add(-1,"day")),l.hasZone()||(l=l.clone().utc().add(1,"day")),d&&"local"!=d&&(u=d.replace(" ","_")),s=e.extend({},o.data||{},{key:p,timeMin:n.format(),timeMax:l.format(),timeZone:u,singleEvents:!0,maxResults:9999}),e.extend({},o,{googleCalendarId:null,url:g,data:s,startParam:!1,endParam:!1,timezoneParam:!1,success:function(o){var r,n,l=[];if(o.error)i("Google Calendar API: "+o.error.message,o.error.errors);else if(o.items&&(e.each(o.items,function(e,o){var r=o.htmlLink;u&&(r=a(r,"ctz="+u)),l.push({id:o.id,title:o.summary,start:o.start.dateTime||o.start.date,end:o.end.dateTime||o.end.date,url:r,location:o.location,description:o.description})}),r=[l].concat(Array.prototype.slice.call(arguments,1)),n=t(m,this,r),e.isArray(n)))return n;return l}})):(i("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function a(e,o){return e.replace(/(\?.*?)?(#|$)/,function(e,a,r){return(a?a+"&":"?")+o+r})}var r="https://www.googleapis.com/calendar/v3/calendars",n=e.fullCalendar,t=n.applyAll;n.sourceNormalizers.push(function(e){var o,a=e.googleCalendarId,r=e.url;!a&&r&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(r)?a=r:((o=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(r))||(o=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(r)))&&(a=decodeURIComponent(o[1])),a&&(e.googleCalendarId=a)),a&&(null==e.editable&&(e.editable=!1),e.url=a)}),n.sourceFetchers.push(function(e,a,r,n){return e.googleCalendarId?o(e,a,r,n,this):void 0})});